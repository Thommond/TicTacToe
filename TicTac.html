<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link rel="stylesheet" type="text/css" href="TicTac.css">
    <meta charset="utf-8">
    <title>Tic-Tac-Toe</title>
  </head>
  <body>
<table class = "table">
</table>
<script>
function columns() {
  for(let columns = 0; columns < 3; columns++) {
   let row = document.querySelector(".table").insertRow(columns);
   let cell1 = row.insertCell(0);
   let cell2 = row.insertCell(-1);
   let cell3 = row.insertCell(-1);
  }
}
columns();
let count =  0;
let vertical1 = [];
let vertical2 = [];
let vertical3 = [];
let horizontal1 = [];
let horizontal2 = [];
function checkX(x)  {
  return x == "X";
}
function checkO(o)  {
  return o == "O" ;
}
window.onload = function () {
  document.querySelector('.table').onclick = function(ev) {
    count = count + 1;
    let rowIndex = ev.target.parentElement.rowIndex;
    let cellIndex = ev.target.cellIndex;
    let position = document.querySelector('.table').rows[rowIndex].cells[cellIndex];
    if(count == 1 || count == 3 || count == 5 || count == 7 || count == 9) {
    let text = document.createTextNode("X");
    alert('Row = ' + rowIndex + ', Column = ' + cellIndex);
    position.appendChild(text);
    position.style.pointerEvents = "none";
  }  else if (count == 2 || count == 4 || count == 6 || count == 8) {
    let text = document.createTextNode("O");
    alert('Row = ' + rowIndex + ', Column = ' + cellIndex);
    position.appendChild(text);
    position.style.pointerEvents = "none";
  }
  if(rowIndex == 0 && cellIndex == 0) {
  vertical1.push(position.innerHTML);
  horizontal1.push(position.innerHTML);
} else if(rowIndex == 1 && cellIndex == 1) {
  vertical2.push(position.innerHTML);
  horizontal1.push(position.innerHTML);
  horizontal2.push(position.innerHTML);
} else if(rowIndex == 2 && cellIndex == 2) {
  vertical3.push(position.innerHTML);
  horizontal1.push(position.innerHTML);
} else if(rowIndex == 0 && cellIndex == 2) {
  vertical1.push(position.innerHTML);
  horizontal2.push(position.innerHTML);
} else if(rowIndex == 2 && cellIndex == 0) {
  vertical3.push(position.innerHTML);
  horizontal2.push(position.innerHTML);
} else if(rowIndex == 0) {
  vertical1.push(position.innerHTML);
} else if(rowIndex == 1) {
  vertical2.push(position.innerHTML);
} else if(rowIndex == 2) {
  vertical3.push(position.innerHTML);
}
if(vertical1.length == 3) {
  if(vertical1.every(checkX) == true) {
    alert("Player one wins!");
  } else  if (vertical1.every(checkO) == true) {
    alert("Player two wins!");
  }
}
if(vertical2.length == 3) {
  if(vertical2.every(checkX) == true) {
    alert("Player one wins!");
  } else  if (vertical2.every(checkO) == true) {
    alert("Player two wins!");
  }
}
if(vertical3.length == 3) {
  if(vertical3.every(checkX) == true) {
    alert("Player one wins!");
  } else  if (vertical3.every(checkO) == true) {
    alert("Player two wins!");
  }
}
if(horizontal1.length == 3) {
  if(horizontal1.every(checkX) == true) {
    alert("Player one wins!");
  } else  if (horizontal1.every(checkO) == true) {
    alert("Player two wins!");
  }
}
if(horizontal2.length == 3) {
  if(horizontal2.every(checkX) == true) {
    alert("Player one wins!");
  } else  if (horizontal2.every(checkO) == true) {
    alert("Player two wins!");
  }
}
  }
}

</script>
  </body>
</html>
